# 댓글 목록을 가져오는 기능
1. 링크추가
- /post/detail.html에 fetch를 이용한 함수를 선언
  - url : /api/v1/posts/게시글번호/comments
  - method : get
- 선언한 함수를 호출

2. 컨트롤러 메서드 추가
- url : /api/v1/posts/게시글번호/comments
- 화면 : 없음
  => 댓글 목록을 전달해야 하는데 임시로 null을 전달

3. 화면 추가

4. 컨트롤러
- 화면에서 보낸 게시글 번호를 가져옴
- 서비스에게 게시글 번호를 주면서 댓글 목록 가져오라고 요청
- 가져온 댓글 목록을 화면에 전달

5. 서비스
- 다오에게 게시글 번호를 주면서 댓글 목록을 가져오라고 요청
- 가져온 댓글 목록을 반환

6. 다오/매포
- 게시글 번호를 이용하여 댓글 목록을 가져오는 쿼리 작성
  - 삭제되지 않을 댓글만 가져옴
  - 정렬은 co_ori_num을 기준으로 내림차순 후, co_num을 기준으로 오
름차순

7. 화면
- 서버에서 보낸 댓글 목록을 가져와서 화면에 출력

#
1. 링크추가
- form태그를 submit하면 동작하는 함수를 추가
- 함수에 form태그가 전송하지 못하도록 막는 작업
- 추가한 함수에서 fetch를 이용하여 비동기 통신으로 서버에 전송
  - url : /api/vi/posts/게시글번호/comments
  - method : post

2. 컨트롤러메서드 추가
- url : /api/vi/posts/게시글번호/comments
- method : post
- 화면으로 보낼 값은 문자열 "test"

3. 화면
- 입력한 댓글을 가져와서 console.log로 출력
- 가져온 댓글을 객체로 변환한 후 서버로 전송
   - 서버로 보낸 때 json으로 전송

4. 컨트롤러
- 화면에서 보낸 게시글 번호를 가져옴
- 화면에서 보낸 댓글 내용을 가져옴
- 로그인한 사용자 정보 가져옴
- 서비스에게 게시글번호와 댓글내용, 사용자정보를 주면서 댓글을 등록
하고 결과를 문자열로 가져오라고 요청
- 가져온 결과를 화면에 전송

5. 서비스 
- 사용자가 로그인 안했으면 "로그인이 필요한 서비스입니다."라고 반환
- 다오에게 게시글 번호, 댓글 내용, 사용자아이디를 주면서 게시글을 등
록하라고 요청후 등록 여부를 알려달라고 요청
- 등록했으면 "댓글을 등록했습니다."라고 반환하고
- 못했으면 댓글을 등록하지 못했습니다라고 반환

6. 다오/매퍼
- 게시글 번호, 댓글 내용, 작성자정보를 이용하여 댓글을 등록하는 쿼리 작성


# 댓글 삭제 기능
1. 링크추가
- 댓글 삭제 버튼을 클릭하면 함수 호출하는데 댓글 번호를 넘겨줌
- 함수를 추가
  - fetch를 이용하여 서버와 연결
     - url : /api/v1/posts/게시글번호/comments/댓글번호
     - method

4. 컨트롤러
- 화면에서 보낸 댓글 번호를 가져옴
- 로그인한 사용자 정보를 가져옴
- 서비스에게 댓글 번호와 로그인한 사용자 정보를 주면서 댓글을 삭제
하고 결과를 알려달라고 요청
- 결과를 화면에 전달

5. 서비스
- 사용자가 로그인되어 있지 않으면 "로그인이 필요한 서비스입니다" 반환
- 댓글 작성자 확인
  - 다오에게 댓글번호 주면서 댓글 정보 가져오라고 요청
  - 가져온 댓글 정보가 없으면 "잘못된 댓글입니다."를 반환
  - 댓글작성자와 사용자아이디가 다르면 "작성자가 아닙니다"를 반환
- 다오에게 댓글 번호를 주면서 삭제하고 결과를 알려달라고 요청
- 삭제했으면 "댓글을 삭제했습니다"를 반환
- 못했으면 "댓글을 삭제하지 못했습니다"를 반환

6. 다오/매퍼
- 댓글번호를 이용하여 댓글 정보를 가져오는 쿼리 작성. resultMap활용
- 댓글 번호를 이용하여 co_del을 Y로 수정하는 쿼리 작성

7. 화면
- 삭제 요청 후, 댓글 목록 새로고침
- 삭제된 댓글은 삭제된 댓글입니다로 화면 구성

